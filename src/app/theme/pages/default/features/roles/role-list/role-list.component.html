<p-confirmDialog #cd>
   <p-footer>
      <button type="button" class="btn btn-accent m-btn m-btn--icon" (click)="cd.accept()">
      <span>
      <i class="la la-close"></i>
      <span>
      Yes
      </span>
      </span>
      </button>
      <button type="button" class="btn btn-secondary m-btn m-btn--icon" (click)="cd.reject()">
      <span>
      <i class="la la-check"></i>
      <span>
      No
      </span>
      </span>
      </button>
   </p-footer>
</p-confirmDialog>
<div class="m-subheader">
   <div class="d-flex align-items-center">
      <div class="mr-auto">
         <ul class="m-subheader__breadcrumbs m-nav m-nav--inline">
            <li class="m-nav__item m-nav__item--home">
               <a href="#" class="m-nav__link m-nav__link--icon">
               <i class="m-nav__link-icon la la-home"></i>
               </a>
            </li>
            <li class="m-nav__separator">
               -
            </li>
            <li class="m-nav__item">
               <a class="m-nav__link">
               <span class="m-nav__link-text">
               Role
               </span>
               </a>
            </li>
         </ul>
      </div>
      <div *ngIf="toggleDiv" class="m-form__actions m-form__actions--solid formTopActionBtnBox">
         <button type="submit" class="btn btn-accent m-btn m-btn--air m-btn--custom formTopActionBtn" form="roleForm" [ngClass]="(roleFormVal && !roleFormVal.form.valid) ?'cursorNotAllowed':'cursorPointer'" title="{{(roleFormVal && roleFormVal.form.valid) ? 'Please fill in all the required fields' :  params ? 'Update' : 'Save'}}" [disabled]="roleFormVal && !roleFormVal.form.valid" [isAuthorize]="['role']">
         {{ params ? 'Update' : 'Save' }}
         </button>
         <button class="btn btn-secondary" [isAuthorize]="['quality']" (click)="onCancel()">
         Cancel
         </button>
      </div>
   </div>
</div>
<!-- END: Subheader -->
<!-- END: Subheader -->
<div class="m-content">
   <div class="row">
      <div class="col-lg-12">
         <div class="m-portlet">
            <div class="row">
			
				<!--Table-->
				<div class="col-md-4"> 						
					<div class="m-portlet__body">
					   <!--begin::Section-->
					   <div class="m-section">
						  <div class="m-section__content">
							 <div class="ui-widget-header" style="border-bottom: 0 none">
								<i class="fa fa-search searchIcon"></i>
								<input #gb type="text" pInputText size="50" placeholder="Search" class="form-control siteSearchbox" style="max-width: 210px;">
								<!-- Add Button -->
								<button  *ngIf="!toggleDiv" class="btn btn-accent m-btn m-btn--custom m-btn--icon m-btn--air m-btn--pill btnAddForm" (click)="toggleButton()" [isAuthorize]="['supplier']">
								<span>
								<i class="flaticon-add"></i>
								<span>
								Add Role
								</span>
								</span>
								</button>
							 </div>
							 <p-dataTable [value]="roleList" class="table listingTable" [rows]="pageSize" [globalFilter]="gb" #dt [lazy]="true" [paginator]="true"  [rowsPerPageOptions]="[20,50,100,200,500]"
							 [totalRecords]="totalCount" (onLazyLoad)="loadLazy($event)">
							 <p-column field="roleName" header="Role Name"></p-column>
							 <p-column field="roleDescription" header="Description"></p-column>
							 <p-column styleClass="col-button">
								<ng-template pTemplate="header">
								   Action
								</ng-template>
								<ng-template let-row="rowData" pTemplate="body">
								   <!-- <button type="button" pButton (click)="onEditClick(row)" icon="fa fa-pencil"></button>
                                   <button type="button" pButton (click)="onDelete(row)" icon="fa fa-trash-o"></button> -->
                                   <button type="button" pButton (click)="onEditClick(row)" icon="fa fa-pencil" class="editBtn" title="Edit"></button>
                                   <button type="button" pButton (click)="onDelete(row)" icon="fa fa-trash-o" class="delBtn" title="Delete"></button>
								</ng-template>
							 </p-column>
							 </p-dataTable>
						  </div>
					   </div>
					   <!--end::Section-->
					</div>
         
				</div>
			
				
               <div class="col-md-8" *ngIf="toggleDiv" style="padding: 0;">
                  <div class="">
                     <div class="col-md-12">
                        <form class="m-form m-form--fit m-form--label-align-right m-form--group-seperator-dashed inputForm" role="form" novalidate (ngSubmit)="onSubmit(roleForm)"  [formGroup]="roleForm"  #roleFormVal="ngForm"  id="roleForm">
                        <div class="row">
                           <div class="col-md-5">
                              <div class="row">
                                 <div class="col-md-12">
                                    <!-- Role Details -->
                                    <div class="panel panel-default">
                                       <div class="panel-heading">Role Details</div>
                                       <div class="panel-body">
                                          <div class="form-group">
                                             <label class="col-md-3 col-sm-3 fieldLabel">Name<span class="requiredField">*</span></label>
                                             <div class="col-md-9 col-sm-9">
                                                <input type="text" formControlName="roleName" [ngClass]="{'red-border-class': roleForm.get('roleName').hasError('required') && isFormSubmitted}"   name="roleName" class="form-control m-input" required>
                                             </div>
                                          </div>
                                          <div class="form-group">
                                             <label class="col-md-3 col-sm-3 fieldLabel">Description</label>
                                             <div class="col-md-9 col-sm-9">
                                                <textarea class="form-control m-input" rows="3" formControlName="roleDescription" name="roleDescription" style="resize:none;"></textarea>						
                                             </div>
                                          </div>
                                       </div>
                                    </div>
                                 </div>
                              </div>
                           </div>
                           <!--- Address Details -->									
                           <div class="col-md-7">
                              <div class="row">
                                 <div class="col-md-12">
                                    <!-- Role Details -->
                                    <div class="panel panel-default">
                                       <div class="panel-heading">Role Details</div>
                                       <div class="panel-body">	
                                          <p-tree [value]="featureList" selectionMode="checkbox" [(selection)]="SelectedFeatureList"></p-tree>		
                                       </div>
                                    </div>
                                 </div>
                              </div>
                           </div>
                        </div>
                        </form>
                     </div>
                  </div>
               </div>
            
			
			
			</div>
			
		 </div>
      </div>
   </div>
</div>