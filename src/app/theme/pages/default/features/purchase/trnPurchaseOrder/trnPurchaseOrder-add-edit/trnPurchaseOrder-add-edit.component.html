<p-confirmDialog #cd>
  <p-footer>
    <button
      type="button"
      class="btn btn-accent m-btn m-btn--icon"
      (click)="cd.accept()"
    >
      <span>
        <i class="la la-check"></i>
        <span>
          Yes
        </span>
      </span>
    </button>
    <button
      type="button"
      class="btn btn-secondary m-btn m-btn--icon"
      (click)="cd.reject()"
    >
      <span>
        <i class="la la-close"></i>
        <span>
          No
        </span>
      </span>
    </button>
  </p-footer>
</p-confirmDialog>

<div class="m-subheader">
  <div class="d-flex align-items-center">
    <div class="mr-auto">
      <ul class="m-subheader__breadcrumbs m-nav m-nav--inline">
        <li class="m-nav__item m-nav__item--home">
          <a href="#" class="m-nav__link m-nav__link--icon">
            <i class="m-nav__link-icon la la-home"></i>
          </a>
        </li>
        <li class="m-nav__separator">
          -
        </li>
        <li class="m-nav__item">
          <a class="m-nav__link">
            <span class="m-nav__link-text">
              Purchase Order
            </span>
          </a>
        </li>
      </ul>
    </div>
    <div class="m-form__actions m-form__actions--solid formTopActionBtnBox">
      <button
        type="submit"
        class="topBtn btn btn-success"
        *ngIf="adminFlag && trnPurchaseOrderObj.status == 'Created'"
        [isAuthorize]="['purchaseorder']"
        title="Update And Approve"
        (click)="onApprove()"
        tabindex="9"
      >
        Update And Approve
      </button>
      <button
        type="submit"
        class="topBtn btn btn-error"
        *ngIf="adminFlag && trnPurchaseOrderObj.status == 'Created'"
        [isAuthorize]="['purchaseorder']"
        title="Cancel PO"
        (click)="onCancelPO()"
        tabindex="9"
      >
        Cancel PO
      </button>
      <button
        type="submit"
        *ngIf="viewItem"
        class="btn btn-accent m-btn m-btn--air m-btn--custom formTopActionBtn"
        form="trnProductStockForm"
        title="{{
          trnProductStockForm && trnProductStockForm.form.valid
            ? 'Please fill in all the required fields'
            : params
            ? 'Update'
            : 'Save'
        }}"
        [isAuthorize]="['purchaseorder']"
        tabindex="8"
      >
        {{ params ? "Update" : "Save" }}
      </button>
      <button
        class="btn btn-secondary"
        [isAuthorize]="['purchaseorder']"
        (click)="onCancel()"
        tabindex="9"
      >
        Cancel
      </button>
    </div>
  </div>
</div>
<!-- END: Subheader -->
<div class="m-content">
  <div class="row">
    <div class="col-lg-12">
      <!--begin::Portlet-->
      <div class="m-portlet">
        <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

        <div class="row">
          <div class="col-md-12">
            <div class="formContainerSamePage">
              <form
                class="m-form m-form--fit m-form--label-align-right m-form--group-seperator-dashed inputForm"
                role="form"
                novalidate
                (ngSubmit)="onSubmit(trnProductStockForm)"
                #trnProductStockForm="ngForm"
                id="trnProductStockForm"
              >
                <div class="row">
                  <div class="col-md-12">
                    <div class="row">
                      <div class="col-md-12">
                        <!-- Basic Details -->
                        <div class="panel panel-default">
                          <div class="panel-heading">Basic Details</div>
                          <div class="panel-body">
                            <div class="row form-group">
                              <div class="col-md-6">
                                <div class="row">
                                  <div class="col-md-6">
                                    <label class="col-md-4 col-sm-4 fieldLabel"
                                      >Date</label
                                    >
                                    <div class="col-md-8 col-sm-8">
                                      <p-calendar
                                        class="purchaseOrderDate"
                                        [disabled]="disabled"
                                        #orderDateVal="ngModel"
                                        [(ngModel)]="
                                          trnPurchaseOrderObj.orderDate
                                        "
                                        name="orderDate"
                                        [monthNavigator]="true"
                                        [yearNavigator]="true"
                                        tabindex="1"
                                        yearRange="2015:2030"
                                        dateFormat="dd/mm/yy"
                                        styleClass="{{
                                          orderDateVal.errors && isFormSubmitted
                                            ? 'red-border-class'
                                            : ''
                                        }}"
                                        autofocus
                                        required
                                      ></p-calendar>
                                    </div>
                                  </div>
                                  <div class="col-md-6">
                                    <label
                                      class="col-md-5 col-sm-5 fieldLabel noPadding"
                                      >Purchase Order No.</label
                                    >
                                    <div class="col-md-7 col-sm-7">
                                      <input
                                        type="text"
                                        [(ngModel)]="
                                          trnPurchaseOrderObj.orderNumber
                                        "
                                        name="PurchaseOrderNo"
                                        class="form-control"
                                        #orderNoVal="ngModel"
                                        disabled
                                        tabindex="2"
                                        placeholder=""
                                      />
                                    </div>
                                  </div>
                                </div>
                              </div>
                              <div class="col-md-6">
                                <label class="col-md-2 col-sm-2 fieldLabel"
                                  >Supplier<span class="requiredField">*</span>
                                </label>
                                <div
                                  class="col-md-10 col-sm-10 customerNameBox"
                                >
                                  <select
                                    class="form-control"
                                    required
                                    name="supplierId"
                                    [(ngModel)]="trnPurchaseOrderObj.supplierId"
                                    #supplierCodeVal="ngModel"
                                    [disabled]="disabled"
                                    [ngClass]="{
                                      'red-border-class':
                                        supplierCodeVal.errors &&
                                        isFormSubmitted
                                    }"
                                    (ngModelChange)="onChangeSupplier()"
                                    tabindex="3"
                                  >
                                    <option
                                      *ngFor="let x of supplierCodeList"
                                      [ngValue]="x.value"
                                      >{{ x.label }}</option
                                    >
                                  </select>
                                  <!-- <p-dropdown class="feePlanBox" [options]="supplierCodeList" [disabled]="disabled" required [(ngModel)]="trnPurchaseOrderObj.supplierId"
																	 #supplierCodeVal="ngModel" required styleClass="{{ supplierCodeVal.errors && isFormSubmitted?'red-border-class':''}}"
																	 [style]="{'width':'100%'}" [disabled]="disabled" name="supplierCodeDDl" filter="true" tabindex="3" (ngModelChange)="onChangeSupplier()"></p-dropdown> -->
                                </div>
                              </div>
                            </div>

                            <div class="row form-group">
                              <div class="col-md-3">
                                <label class="col-md-4 col-sm-4 fieldLabel"
                                  >Courier<span class="requiredField">*</span>
                                </label>
                                <div class="col-md-8 col-sm-8">
                                  <select
                                    class="form-control"
                                    name="courier"
                                    [(ngModel)]="trnPurchaseOrderObj.courierId"
                                    required
                                    [disabled]="!status"
                                    #courierVal="ngModel"
                                    [ngClass]="{
                                      'red-border-class':
                                        courierVal.errors && isFormSubmitted
                                    }"
                                    tabindex="4"
                                  >
                                    <option
                                      *ngFor="let x of courierList"
                                      [ngValue]="x.value"
                                      [selected]="
                                        trnPurchaseOrderObj.courierId == x.value
                                      "
                                      >{{ x.label }}</option
                                    >
                                  </select>
                                  <!-- <p-dropdown class="feePlanBox" [options]="courierList" [disabled]="!status" required [(ngModel)]="trnPurchaseOrderObj.courierId"
																	 #courierVal="ngModel" required [style]="{'width':'100%'}" styleClass="{{ courierVal.errors && isFormSubmitted?'red-border-class':''}}"
																	 name="courierDDl" filter="true" tabindex="4"></p-dropdown> -->
                                </div>
                              </div>

                              <div class="col-md-3">
                                <label
                                  class="col-md-5 col-sm-5 fieldLabel noPadding"
                                  >Courier Mode<span class="requiredField"
                                    >*</span
                                  >
                                </label>
                                <div class="col-md-7 col-sm-7">
                                  <select
                                    class="form-control"
                                    name="courierMode"
                                    [(ngModel)]="
                                      trnPurchaseOrderObj.courierMode
                                    "
                                    required
                                    [disabled]="!status"
                                    #courierModeVal="ngModel"
                                    [ngClass]="{
                                      'red-border-class':
                                        courierModeVal.errors && isFormSubmitted
                                    }"
                                    tabindex="5"
                                  >
                                    <option
                                      *ngFor="let x of courierModeList"
                                      [ngValue]="x.value"
                                      [selected]="
                                        trnPurchaseOrderObj.courierMode ==
                                        x.value
                                      "
                                      >{{ x.label }}</option
                                    >
                                  </select>
                                  <!-- <p-dropdown class="feePlanBox" [options]="courierModeList" required [(ngModel)]="trnPurchaseOrderObj.courierMode" #courierModeVal="ngModel"
																	 required [style]="{'width':'100%'}" styleClass="{{ courierModeVal.errors && isFormSubmitted?'red-border-class':''}}"
																	 [disabled]="!status" name="courierModeDDl" filter="true" tabindex="5"></p-dropdown> -->
                                </div>
                              </div>
                              <div class="col-md-3">
                                <label class="col-md-4 col-sm-4 fieldLabel"
                                  >Location<span class="requiredField">*</span>
                                </label>
                                <div class="col-md-8 col-sm-8">
                                  <select
                                    class="form-control"
                                    name="locationId"
                                    [(ngModel)]="trnPurchaseOrderObj.locationId"
                                    required
                                    [disabled]="!status"
                                    #locationVal="ngModel"
                                    [ngClass]="{
                                      'red-border-class':
                                        locationVal.errors && isFormSubmitted
                                    }"
                                    (ngModelChange)="onChangeLocation()"
                                    tabindex="6"
                                  >
                                    <option
                                      *ngFor="let x of locationList"
                                      [ngValue]="x.value"
                                      [selected]="
                                        trnPurchaseOrderObj.locationId ==
                                        x.value
                                      "
                                      >{{ x.label }}</option
                                    >
                                  </select>
                                  <!-- <p-dropdown class="feePlanBox" [options]="locationList" required [(ngModel)]="trnPurchaseOrderObj.locationId" #locationVal="ngModel"
																	 required [style]="{'width':'100%'}" styleClass="{{ locationVal.errors && isFormSubmitted?'red-border-class':''}}"
																	 name="LocationDDl" filter="true" tabindex="6" (ngModelChange)="onChangeLocation()" [disabled]="!status"></p-dropdown> -->
                                </div>
                              </div>
                              <div class="col-md-3">
                                <label
                                  class="col-md-5 col-sm-5 fieldLabel noPadding"
                                  >Total Amount</label
                                >
                                <div class="col-md-7 col-sm-7">
                                  <label class="orderTypeLabel">{{
                                    trnPurchaseOrderObj
                                      ? (trnPurchaseOrderObj.totalAmount
                                        | number: ".0")
                                      : ""
                                  }}</label>
                                </div>
                              </div>
                            </div>
                            <!--Shipping Address-->
                            <div class="row">
                              <div class="col-md-12">
                                <div
                                  class="shippingAddressBox"
                                  *ngIf="this.locationObj.addressLine1"
                                >
                                  <p>
                                    <b>Shipping Address - </b>
                                    {{ this.locationObj.addressLine1 }}
                                    {{ this.locationObj.addressLine2 }} ,
                                    {{ this.locationObj.state }} ,{{
                                      this.locationObj.city
                                    }}
                                    PINCODE -{{ this.locationObj.pin }}
                                  </p>
                                </div>
                              </div>
                            </div>
                            <div class="row form-group">
                              <div class="col-md-6">
                                <label class="col-md-2 col-sm-2 fieldLabel"
                                  >Remark</label
                                >
                                <div
                                  class="col-md-10 col-sm-10 purchaseRemarkBox"
                                >
                                  <input
                                    type="text"
                                    [(ngModel)]="trnPurchaseOrderObj.remark"
                                    name="remark"
                                    class="form-control"
                                    #remarkVal="ngModel"
                                    [disabled]="!status"
                                    tabindex="7"
                                    placeholder=""
                                  />
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>

                  <div class="col-md-12">
                    <div class="panel panel-default">
                      <div class="panel-heading">Item Details</div>
                      <div class="panel-body" *ngIf="status">
                        <div class="row form-group">
                          <div class="col-md-4">
                            <label class="col-md-4 col-sm-4 fieldLabel"
                              >Category<span class="requiredField"
                                >*</span
                              ></label
                            >
                            <div class="col-md-8 col-sm-8">
                              <select
                                class="form-control"
                                name="categoryId"
                                [(ngModel)]="categoryId"
                                [ngClass]="{
                                  'red-border-class': categoryIdError
                                }"
                                (ngModelChange)="onChangeCategory()"
                                tabindex="8"
                              >
                                <option
                                  *ngFor="let x of categoriesCodeList"
                                  [ngValue]="x.value"
                                  [selected]="categoryId == x.value"
                                  >{{ x.label }}</option
                                >
                              </select>
                              <!-- <p-dropdown class="feePlanBox" [options]="categoriesCodeList" [(ngModel)]="categoryId" [style]="{'width':'100%'}" styleClass="{{categoryIdError?'red-border-class':'' }}"
															 (ngModelChange)="onChangeCategory()" name="categoriesDDl" filter="true" tabindex="8"></p-dropdown> -->
                            </div>
                          </div>
                          <div class="col-md-4" *ngIf="categoryId != 7">
                            <label class="col-md-4 col-sm-4 fieldLabel"
                              >Collection<span class="requiredField"
                                >*</span
                              ></label
                            >
                            <div class="col-md-8 col-sm-8">
                              <select
                                class="form-control"
                                name="collectionId"
                                [(ngModel)]="collectionId"
                                [ngClass]="{
                                  'red-border-class': collectionIdError
                                }"
                                (ngModelChange)="onChangeCollection()"
                                tabindex="9"
                              >
                                <option
                                  *ngFor="let x of collectionList"
                                  [ngValue]="x.value"
                                  [selected]="collectionId == x.value"
                                  >{{ x.label }}</option
                                >
                              </select>
                              <!-- <p-dropdown class="feePlanBox" [options]="collectionList" [(ngModel)]="collectionId" [style]="{'width':'100%'}" styleClass="{{collectionIdError?'red-border-class': ''}}"
															 name="collectionCodeDDl" filter="true" tabindex="9" (ngModelChange)="onChangeCollection()"></p-dropdown> -->
                            </div>
                          </div>
                          <div
                            class="col-md-4"
                            *ngIf="
                              categoryId == 1 ||
                              categoryId == 5 ||
                              categoryId == 6
                            "
                          >
                            <label class="col-md-4 col-sm-4 fieldLabel"
                              >Serial No.<span class="requiredField"
                                >*</span
                              ></label
                            >
                            <div class="col-md-8 col-sm-8">
                              <select
                                class="form-control"
                                name="shadeId"
                                [(ngModel)]="shadeId"
                                [ngClass]="{ 'red-border-class': shadeIdError }"
                                (ngModelChange)="calculateProductStockDetails()"
                                tabindex="10"
                              >
                                <option
                                  *ngFor="let x of shadeIdList"
                                  [ngValue]="x.value"
                                  [selected]="shadeId == x.value"
                                  >{{ x.label }}</option
                                >
                              </select>
                              <!-- <p-dropdown class="feePlanBox" [options]="shadeIdList" [(ngModel)]="shadeId" [style]="{'width':'100%'}" styleClass="{{shadeIdError?'red-border-class':'' }}"
															 name="shadeIdDDl" filter="true" tabindex="10" (ngModelChange)="calculateProductStockDetails()"></p-dropdown> -->
                            </div>
                          </div>
                          <div class="col-md-4" *ngIf="categoryId == 4">
                            <label class="col-md-4 col-sm-4 fieldLabel"
                              >Mat size<span class="requiredField"
                                >*</span
                              ></label
                            >
                            <div class="col-md-8 col-sm-8">
                              <select
                                class="form-control"
                                name="matSizeId"
                                [(ngModel)]="matSizeId"
                                [ngClass]="{
                                  'red-border-class': matSizeIdError
                                }"
                                (ngModelChange)="calculateProductStockDetails()"
                                tabindex="10"
                              >
                                <option
                                  *ngFor="let x of matSizeList"
                                  [ngValue]="x.value"
                                  [selected]="matSizeId == x.value"
                                  >{{ x.label }}</option
                                >
                              </select>
                              <!-- <p-dropdown class="feePlanBox" [options]="matSizeList" [(ngModel)]="matSizeId" [style]="{'width':'100%'}" styleClass="{{matSizeIdError?'red-border-class':'' }}"
															 name="shadeIdDDl" filter="true" tabindex="10" (ngModelChange)="calculateProductStockDetails()"></p-dropdown> -->
                            </div>
                          </div>
                          <div class="col-md-4" *ngIf="categoryId == 2">
                            <label class="col-md-4 col-sm-4 fieldLabel"
                              >Foam Item<span class="requiredField"
                                >*</span
                              ></label
                            >
                            <div class="col-md-8 col-sm-8">
                              <select
                                class="form-control"
                                name="fomSizeId"
                                [(ngModel)]="fomSizeId"
                                [ngClass]="{
                                  'red-border-class': fomSizeIdError
                                }"
                                (ngModelChange)="calculateProductStockDetails()"
                                tabindex="10"
                              >
                                <option
                                  *ngFor="let x of fomSizeList"
                                  [ngValue]="x.value"
                                  [selected]="fomSizeId == x.value"
                                  >{{ x.label }}</option
                                >
                              </select>
                              <!-- <p-dropdown class="feePlanBox" [options]="fomSizeList" [(ngModel)]="fomSizeId" [style]="{'width':'100%'}" styleClass="{{fomSizeIdError?'red-border-class':'' }}"
															 name="shadeIdDDl" filter="true" tabindex="10" (ngModelChange)="calculateProductStockDetails()"></p-dropdown> -->
                            </div>
                          </div>
                          <div class="col-md-4" *ngIf="categoryId == 7">
                            <label class="col-md-4 col-sm-4 fieldLabel"
                              >Accessory Code<span class="requiredField"
                                >*</span
                              ></label
                            >
                            <div class="col-md-8 col-sm-8">
                              <select
                                class="form-control"
                                name="accessoryId"
                                [(ngModel)]="accessoryId"
                                [ngClass]="{
                                  'red-border-class': accessoryIdError
                                }"
                                (ngModelChange)="calculateProductStockDetails()"
                                tabindex="9"
                              >
                                <option
                                  *ngFor="let x of accessoryCodeList"
                                  [ngValue]="x.value"
                                  [selected]="accessoryId == x.value"
                                  >{{ x.label }}</option
                                >
                              </select>
                              <!-- <p-dropdown class="feePlanBox" [options]="accessoryCodeList" [(ngModel)]="accessoryId" [style]="{'width':'100%'}" styleClass="{{accessoryIdError?'red-border-class':'' }}"
															 name="accessoryIdDDl" filter="true" tabindex="9" (ngModelChange)="calculateProductStockDetails()"></p-dropdown> -->
                            </div>
                          </div>
                        </div>
                        <div
                          class="row form-group"
                          *ngIf="categoryId == 4 && matSizeId == -1"
                        >
                          <div class="col-md-4">
                            <label class="col-md-4 col-sm-4 fieldLabel"
                              >Quality<span class="requiredField"
                                >*</span
                              ></label
                            >
                            <div class="col-md-8 col-sm-8">
                              <select
                                class="form-control"
                                name="qualityId"
                                [(ngModel)]="qualityId"
                                [ngClass]="{
                                  'red-border-class': qualityIdError
                                }"
                                (ngModelChange)="onQualityClick()"
                                tabindex="11"
                              >
                                <option
                                  *ngFor="let x of qualityList"
                                  [ngValue]="x.value"
                                  [selected]="qualityId == x.value"
                                  >{{ x.label }}</option
                                >
                              </select>
                              <!-- <p-dropdown class="feePlanBox" [options]="qualityList" [style]="{'width':'100%'}" [(ngModel)]="qualityId" styleClass="{{qualityIdError?'red-border-class':'' }}"
															 (ngModelChange)="onQualityClick()" name="quality" filter="true" tabindex="11"></p-dropdown> -->
                            </div>
                          </div>
                          <div class="col-md-4">
                            <label class="col-md-4 col-sm-4 fieldLabel"
                              >Length x Width<span class="requiredField"
                                >*</span
                              ></label
                            >
                            <div class="col-md-3 col-sm-3">
                              <input
                                type="text"
                                class="form-control"
                                OnlyNumber="true"
                                DecimalPlaces="2"
                                minValue="0.00"
                                maxValue="999.99"
                                [ngClass]="{ 'red-border-class': lengthError }"
                                [(ngModel)]="length"
                                name="length"
                                (blur)="calculateSizeCode()"
                                placeholder=""
                                autocomplete="off"
                                tabindex="12"
                              />
                            </div>

                            <label class="col-md-2 col-sm-2 fieldLabel"
                              >x</label
                            >
                            <div class="col-md-3 col-sm-3">
                              <input
                                type="text"
                                class="form-control"
                                OnlyNumber="true"
                                DecimalPlaces="2"
                                minValue="0.00"
                                maxValue="999.99"
                                [ngClass]="{ 'red-border-class': widthError }"
                                (blur)="calculateSizeCode()"
                                [(ngModel)]="width"
                                name="width"
                                placeholder=""
                                autocomplete="off"
                                tabindex="13"
                              />
                            </div>
                          </div>
                          <div class="col-md-4">
                            <label class="fieldLabel col-md-4 col-sm-4"
                              >Thickness<span class="requiredField"
                                >*</span
                              ></label
                            >
                            <div class="col-md-8 col-sm-8">
                              <select
                                class="form-control"
                                name="matThicknessId"
                                [(ngModel)]="matThicknessId"
                                [ngClass]="{
                                  'red-border-class': matThicknessIdError
                                }"
                                (ngModelChange)="onThicknessChange()"
                                tabindex="14"
                              >
                                <option
                                  *ngFor="let x of thicknessList"
                                  [ngValue]="x.value"
                                  [selected]="matThicknessId == x.value"
                                  >{{ x.label }}</option
                                >
                              </select>
                              <!-- <p-dropdown class="feePlanBox" [options]="thicknessList" [style]="{'width':'100%'}" [(ngModel)]="matThicknessId" styleClass="{{matThicknessIdError?'red-border-class':'' }}"
															 name="matThicknessId" (ngModelChange)="onThicknessChange()" filter="true" tabindex="14"></p-dropdown> -->
                            </div>
                          </div>
                        </div>

                        <div class="row form-group">
                          <div class="col-md-4">
                            <label class="col-md-4 col-sm-4 fieldLabel"
                              >Available Stock</label
                            >
                            <div class="col-md-8 col-sm-8">
                              <input
                                class="form-control"
                                [(ngModel)]="productDetails.stock"
                                disabled
                                name="stock"
                              />
                            </div>
                          </div>
                          <div class="col-md-4">
                            <label class="col-md-4 col-sm-4 fieldLabel"
                              >Or. Quantity<span class="requiredField"
                                >*</span
                              ></label
                            >
                            <div class="col-md-6 col-sm-6">
                              <input
                                class="form-control"
                                OnlyNumber="true"
                                DecimalPlaces="0"
                                autocomplete="off"
                                minValue="0"
                                maxValue="99999"
                                [ngClass]="{
                                  'red-border-class': orderQuantityError
                                }"
                                [(ngModel)]="orderQuantity"
                                name="orderQunatity"
                                tabindex="15"
                                placeholder=""
                                (blur)="changeOrderType()"
                              />
                            </div>
                            <label class="orderTypeLabel">{{
                              orderType
                            }}</label>
                          </div>
                          <div class="col-md-4">
                            <label class="col-md-4 col-sm-4 fieldLabel"
                              >Rate</label
                            >
                            <div class="col-md-6 col-sm-6">
                              <label class="orderTypeLabel">{{
                                rate ? (rate | number: ".0") : ""
                              }}</label>
                            </div>
                          </div>
                        </div>
                        <div class="row form-group">
                          <div class="col-md-4">
                            <label class="col-md-4 col-sm-4 fieldLabel"
                              >Disc. %</label
                            >
                            <div class="col-md-8 col-sm-8">
                              <input
                                class="form-control"
                                [(ngModel)]="tempPurchaseDiscount"
                                disabled
                                name="purchaseDiscount"
                              />
                              <!-- <input class="form-control" *ngIf="(categoryId==1 || categoryId==5 || categoryId==6) && (productDetails.purchaseFlatRate || orderQuantity>=50)" [(ngModel)]="productDetails.purchaseDiscount" disabled name="purchaseDiscount">
															<input class="form-control" *ngIf=" (categoryId==1 || categoryId==5 || categoryId==6 || matSizeId !=-1) && !productDetails.purchaseFlatRate && orderQuantity<50" value="0" disabled > -->
                            </div>
                          </div>
                          <div class="col-md-4">
                            <label class="col-md-4 col-sm-4 fieldLabel"
                              >GST %</label
                            >
                            <div class="col-md-8 col-sm-8">
                              <input
                                class="form-control"
                                [(ngModel)]="productDetails.gst"
                                disabled
                                name="gst"
                              />
                            </div>
                          </div>
                          <!-- <div class="col-md-4">
														<label class="col-md-4 col-sm-4 fieldLabel">Order Type</label>
														<div class="col-md-8 col-sm-8">
															<label class="orderTypeLabel">{{orderType}}</label>
														</div>
													</div> -->
                          <div class="col-md-4">
                            <label class="col-md-4 col-sm-4 fieldLabel"
                              >Amount(GST)</label
                            >
                            <div class="col-md-8 col-sm-8">
                              <label class="orderTypeLabel">{{
                                amountWithGST
                                  ? (amountWithGST | number: ".0")
                                  : ""
                              }}</label>
                            </div>
                          </div>
                        </div>

                        <div
                          class="m-form__actions m-form__actions--solid formTopActionBtnBox formAddItemBox"
                        >
                          <input
                            type="button"
                            class="btn btn-accent m-btn m-btn--air m-btn--custom formTopActionBtn"
                            value="Add To List"
                            tabindex="16"
                            (click)="addItemToList()"
                          />
                          <input
                            type="button"
                            class="btn btn-secondary"
                            value="Cancel"
                            (click)="onCancelItemDetails()"
                            tabindex="17"
                          />
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </form>
              <div class="row">
                <div class="col-md-12">
                  <table class="staticTable" id="">
                    <thead>
                      <tr>
                        <th title="" class="alignleft">
                          Category
                        </th>
                        <th title="" class="alignleft">
                          Collection
                        </th>
                        <th title="" class="alignleft">
                          Accessory
                        </th>
                        <th title="" class="alignleft">
                          Serial No./Size
                        </th>
                        <th title="" class="aligncenter">
                          Quantity
                        </th>
                        <th title="" class="aligncenter">
                          Type
                        </th>
                        <!-- <th title="">
													Rate(GST)
												</th> -->
                        <th title="" class="alignright">
                          Amount(GST)
                        </th>
                        <th title="" class="aligncenter">
                          Action
                        </th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr *ngIf="trnPurchaseOrderItems.length == 0">
                        <td colspan="5">
                          No Record Found
                        </td>
                      </tr>
                      <tr
                        *ngFor="
                          let row of trnPurchaseOrderItems;
                          let rowNum = index;
                          let lastRowNum = last
                        "
                      >
                        <td class="alignleft">{{ row.categoryName }}</td>
                        <td class="alignleft">
                          {{ row.collectionId ? row.collectionName : "" }}
                        </td>
                        <td class="alignleft">
                          {{ row.accessoryId ? row.accessoryName : "" }}
                        </td>
                        <td class="alignleft">
                          {{ row.serialno }} {{ row.size || row.matSizeCode }}
                        </td>
                        <td class="aligncenter">{{ row.orderQuantity }}</td>
                        <td class="aligncenter">{{ row.orderType }}</td>
                        <!-- <td>{{row.rateWithGST}}</td> -->
                        <td class="alignright">
                          {{ row ? (row.amountWithGST | number: ".0") : "" }}
                        </td>
                        <td>
                          <div class="">
                            <!-- <button title="Edit" type="button" class="m-portlet__nav-link btn m-btn m-btn--hover-accent m-btn--icon m-btn--icon-only m-btn--pill"
															*ngIf="!row.enable" (click)="enableEdit(row)">
															<i class="la la-edit" style="vertical-align: middle;margin-top: -2px;margin-right: 0;"></i>
														</button> -->
                            <!-- <button title="Cancel" type="button" class="m-portlet__nav-link btn m-btn m-btn--hover-accent m-btn--icon m-btn--icon-only m-btn--pill"
														*ngIf="row.enable" (click)="cancelEdit(row)">
														<i class="la la-undo" style="vertical-align: middle;margin-top: -2px;margin-right: 0;"></i>
													</button> -->
                            <button
                              title="Delete"
                              type="button"
                              class="m-portlet__nav-link btn m-btn m-btn--hover-accent m-btn--icon m-btn--icon-only m-btn--pill"
                              *ngIf="
                                (row.enable || row.id || !row.id) && viewItem
                              "
                              (click)="onDeleteItemDetails(row.id, rowNum)"
                            >
                              <i
                                class="la la-close"
                                style="vertical-align: middle;margin-top: -2px;margin-right: 0;"
                              ></i>
                            </button>
                            <!-- <button title="Save" type="button" class="m-portlet__nav-link btn m-btn m-btn--hover-accent m-btn--icon m-btn--icon-only m-btn--pill"
															*ngIf="row.enable ||!row.id" (click)="onSaveItemDetails(row,isDefaultSelected)">
															<i class="la la-save" style="vertical-align: middle;margin-top: -2px;margin-right: 0;"></i>
														</button> -->
                          </div>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
      </div>
      <!--end::Portlet-->
    </div>
  </div>
</div>
